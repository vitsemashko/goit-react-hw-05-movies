{"version":3,"file":"static/js/981.e1e220c6.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchBox/SearchBox.module.css?45fa","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.jsx","servises/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Loader\":\"Loader_Loader__wqo9C\"};","import { RotatingLines } from \"react-loader-spinner\";\nimport css from \"./Loader.module.css\";\n\nconst Loader = () => {\n\treturn (\n\t\t<div className={css.Loader}>\n\t\t\t<RotatingLines\n\t\t\t\tstrokeColor=\"teal\"\n\t\t\t\tstrokeWidth=\"5\"\n\t\t\t\tanimationDuration=\"0.75\"\n\t\t\t\twidth=\"96\"\n\t\t\t\tvisible={true}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__uFrOZ\",\"movieListItem\":\"MovieList_movieListItem__6DqRG\"};","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './MovieList.module.css';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.movieList}>\n      {movies.map(movie => (\n        <li className={css.movieListItem} key={movie.id}>\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"Wrapper\":\"SearchBox_Wrapper__xIhPt\",\"Form\":\"SearchBox_Form__Cibl8\",\"Input\":\"SearchBox_Input__VRnhF\",\"Button\":\"SearchBox_Button__o9TAd\"};","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './SearchBox.module.css';\n\nconst SearchBox = ({ query = '', onChange }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchParams] = useSearchParams();\n  useEffect(() => {\n    if (query.length) {\n      setSearchQuery(query);\n    }\n    if (searchParams.toString()) {\n      setSearchQuery(searchParams.get('query'));\n    }\n  }, [query, searchParams]);\n  const handleChange = e => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onChange(searchQuery);\n    // setSearchQuery('');\n  };\n  return (\n    <div className={css.Wrapper}>\n      <form className={css.Form} onSubmit={handleSubmit}>\n        <button className={css.Button} type=\"submit\">\n          <FaSearch />\n        </button>\n        <input\n          className={css.Input}\n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          placeholder=\"Search movies\"\n          autoComplete=\"off\"\n          autoFocus\n          onChange={handleChange}\n        />\n      </form>\n    </div>\n  );\n};\n\nSearchBox.propTypes = {\n  query: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n};\nexport default SearchBox;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\n\nimport Loader from '../../components/Loader/Loader';\nimport { getMoviesSearch } from '../../servises/movieApi';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport MovieList from '../../components/MovieList/MovieList';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n\n  const search = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    setMovies([]);\n    if (!search) {\n      return;\n    }\n\n    async function getImg() {\n      setLoading(true);\n      try {\n        const movies = await getMoviesSearch(search);\n        setMovies(movies);\n      } catch (error) {\n        toast(error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    getImg();\n  }, [search]);\n\n  const handleSubmit = query => {\n    setSearchParams(query !== '' ? { query } : {});\n  };\n  return (\n    <div>\n      {loading && <Loader />}\n      <SearchBox onChange={handleSubmit} />\n      {movies.length ? (\n        <MovieList movies={movies} />\n      ) : (\n        <p style={{ display: 'flex', justifyContent: 'center' }}>\n          No movies were found\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"39f90a74d7e7bd41ea5263b14ea99d63\";\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getMoviesTrending() {\n\ttry {\n\t\tconst response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n\t\tif (response.data.results.length === 0) {\n\t\t\tthrow Error(\"Sorry, but nothing was found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMoviesSearch(query) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/search/movie?api_key=${API_KEY}&query=${query}&include_adult=false`\n\t\t);\n\t\tif (!response.data.results.length) {\n\t\t\tthrow Error(\"Sorry, no movies were found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieCredits(movieId) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/movie/${movieId}/credits?api_key=${API_KEY}`\n\t\t);\n\t\tif (!response.data.cast.length) {\n\t\t\tthrow Error(\"Sorry, no casts were found for your request!\");\n\t\t}\n\t\treturn response.data.cast;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieDetails(movieId) {\n\ttry {\n\t\tconst response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n\t\tif (response.data.length === 0) {\n\t\t\tthrow Error(\"Sorry, no movies were found for your request!\");\n\t\t}\n\t\treturn response.data;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieReviews(movieId) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/movie/${movieId}/reviews?api_key=${API_KEY}`\n\t\t);\n\t\tif (!response.data.results.length) {\n\t\t\tthrow Error(\"Sorry, no reviews were found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n"],"names":["className","css","strokeColor","strokeWidth","animationDuration","width","visible","movies","location","useLocation","map","movie","to","id","state","from","title","query","onChange","useState","searchQuery","setSearchQuery","useSearchParams","searchParams","useEffect","length","toString","get","onSubmit","e","preventDefault","type","name","value","placeholder","autoComplete","autoFocus","target","setMovies","setSearchParams","loading","setLoading","search","getMoviesSearch","toast","message","getImg","Loader","MovieList","style","display","justifyContent","API_KEY","getMoviesTrending","axios","response","data","results","Error","request","getMovieCredits","movieId","cast","getMovieDetails","getMovieReviews"],"sourceRoot":""}