{"version":3,"file":"static/js/351.d54d3844.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/GoBack/GoBack.module.css?848c","components/GoBack/GoBack.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","servises/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Loader\":\"Loader_Loader__wqo9C\"};","import { RotatingLines } from \"react-loader-spinner\";\nimport css from \"./Loader.module.css\";\n\nconst Loader = () => {\n\treturn (\n\t\t<div className={css.Loader}>\n\t\t\t<RotatingLines\n\t\t\t\tstrokeColor=\"teal\"\n\t\t\t\tstrokeWidth=\"5\"\n\t\t\t\tanimationDuration=\"0.75\"\n\t\t\t\twidth=\"96\"\n\t\t\t\tvisible={true}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"Link\":\"GoBack_Link__ftLUK\"};","import { Link } from \"react-router-dom\";\nimport { HiArrowLeft } from \"react-icons/hi\";\nimport css from \"./GoBack.module.css\";\n\nconst GoBack = ({ to, children }) => {\n\treturn (\n\t\t<Link className={css.Link} to={to}>\n\t\t\t<HiArrowLeft size=\"20\" />\n\t\t\t{children}\n\t\t</Link>\n\t);\n};\n\nexport default GoBack;\n","// extracted by mini-css-extract-plugin\nexport default {\"Wrapper\":\"MovieDetails_Wrapper__1xf4e\",\"Image\":\"MovieDetails_Image__V6K1r\",\"Title\":\"MovieDetails_Title__dmr4s\",\"Text\":\"MovieDetails_Text__J4zDo\",\"TitleOverview\":\"MovieDetails_TitleOverview__l4Ldk\",\"Inform\":\"MovieDetails_Inform__XDs3z\",\"Item\":\"MovieDetails_Item__Vlw5d\"};","import { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport { toast } from 'react-toastify';\n\nimport GoBack from '../../components/GoBack/GoBack';\nimport { getMovieDetails } from '../../servises/movieApi';\nimport Loader from '../../components/Loader/Loader';\n\nimport defaultPoster from '../../image/poster.png';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w400';\n\n  const location = useLocation();\n  const goBack = location.state?.from ?? '/';\n\n  const { movieId } = useParams();\n  const [details, setDetails] = useState([]);\n\n  useEffect(() => {\n    async function fetchMovieDetails() {\n      try {\n        const movieDetails = await getMovieDetails(movieId);\n        setDetails(movieDetails);\n      } catch (error) {\n        toast(error.message);\n      }\n    }\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n  return (\n    <main>\n      <GoBack to={goBack}>Go back</GoBack>\n      <div className={css.Wrapper}>\n        <img\n          className={css.Image}\n          src={\n            details.poster_path\n              ? `${BASE_IMG_URL}` + details.poster_path\n              : defaultPoster\n          }\n          alt={details.title || details.name}\n        />\n        <div>\n          <h2 className={css.Title}>\n            {details.title} (\n            {details.release_date\n              ? details.release_date.slice(0, 4)\n              : ' No year'}\n            )\n          </h2>\n          <p className={css.Text}>\n            User Score:{' '}\n            {details.vote_average\n              ? Math.floor(details.vote_average * 10).toFixed(0)\n              : ''}\n            %\n          </p>\n          <h3 className={css.TitleOverview}> Overview</h3>\n          <p className={css.Text}>{details.overview}</p>\n          <h3 className={css.TitleOverview}>Genres</h3>\n          <p className={css.Text}>\n            {details.genres\n              ? details.genres.map(genre => genre.name).join(' ')\n              : 'Sorry genre not found.'}\n          </p>\n        </div>\n      </div>\n      <div className={css.Inform}>\n        <h2 className={css.Title}>Additional information</h2>\n        <ul>\n          <li className={css.Item}>\n            <Link to=\"cast\" state={{ from: goBack }}>\n              Cast\n            </Link>\n          </li>\n          <li className={css.Item}>\n            <Link to=\"reviews\" state={{ from: goBack }}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"39f90a74d7e7bd41ea5263b14ea99d63\";\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getMoviesTrending() {\n\ttry {\n\t\tconst response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n\t\tif (response.data.results.length === 0) {\n\t\t\tthrow Error(\"Sorry, but nothing was found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMoviesSearch(query) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/search/movie?api_key=${API_KEY}&query=${query}&include_adult=false`\n\t\t);\n\t\tif (!response.data.results.length) {\n\t\t\tthrow Error(\"Sorry, no movies were found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieCredits(movieId) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/movie/${movieId}/credits?api_key=${API_KEY}`\n\t\t);\n\t\tif (!response.data.cast.length) {\n\t\t\tthrow Error(\"Sorry, no casts were found for your request!\");\n\t\t}\n\t\treturn response.data.cast;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieDetails(movieId) {\n\ttry {\n\t\tconst response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n\t\tif (response.data.length === 0) {\n\t\t\tthrow Error(\"Sorry, no movies were found for your request!\");\n\t\t}\n\t\treturn response.data;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport async function getMovieReviews(movieId) {\n\ttry {\n\t\tconst response = await axios.get(\n\t\t\t`/movie/${movieId}/reviews?api_key=${API_KEY}`\n\t\t);\n\t\tif (!response.data.results.length) {\n\t\t\tthrow Error(\"Sorry, no reviews were found for your request!\");\n\t\t}\n\t\treturn response.data.results;\n\t} catch (error) {\n\t\tif (error.request || error.response) {\n\t\t\tthrow Error(\"Sorry, something went wrong, please try again!\");\n\t\t} else {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n"],"names":["className","css","strokeColor","strokeWidth","animationDuration","width","visible","to","children","size","goBack","useLocation","state","from","movieId","useParams","useState","details","setDetails","useEffect","getMovieDetails","movieDetails","toast","message","fetchMovieDetails","src","poster_path","defaultPoster","alt","title","name","release_date","slice","vote_average","Math","floor","toFixed","overview","genres","map","genre","join","Suspense","fallback","Loader","API_KEY","getMoviesTrending","axios","response","data","results","length","Error","request","getMoviesSearch","query","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}